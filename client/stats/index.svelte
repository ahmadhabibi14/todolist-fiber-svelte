<script>
   import { onMount } from "svelte";
   import Footer from "../_components/footer.svelte";
   import Navbar from "../_components/navbar.svelte";


   let Stats = {};
   async function getStats() {
      try {
         const resp = await fetch("/api/stats", { method: "GET" });
         if (resp.ok) {
            const data = await resp.json();
            Stats = data;
            console.log(data);
         }
      } catch (error) {
         console.error(error);
         alert("Error get data")
      }
   }

   onMount(() => {
      getStats();
   })
</script>

<Navbar></Navbar>
<main class="min-h-[80vh] mx-44 mt-24">
   
      <div class="flex flex-col w-9/12 space-y-3 justify-center mx-auto">
         <div class="py-3 px-auto mx-auto border border-sky-600 rounded-xl w-full h-fit">
            <h1 class="bg-gradient-to-br from-sky-500 to-fuchsia-500 text-transparent bg-clip-text text-4xl font-bold text-center">
               Stats
            </h1>
         </div>
         <div class="w-full h-fit flex flex-row justify-between">
            <!-- User Logged In -->
            <div class="flex flex-col justify-center items-center space-y-2 p-3 border border-sky-600 rounded-xl w-40 h-fit">
               <p class="bg-gradient-to-br from-sky-500 to-fuchsia-500 text-transparent bg-clip-text text-8xl font-bold text-center w-full border-b border-zinc-400 pb-2">{Stats.logged_in}</p>
               <p class="flex flex-row space-x-2 text-sm">
                  <svg viewBox="0 0 24 24" class="fill-current w-[16px] h-auto">
                     <path d="M9.16055 11.62C9.13055 11.62 9.11055 11.62 9.08055 11.62C9.03055 11.61 8.96055 11.61 8.90055 11.62C6.00055 11.53 3.81055 9.25 3.81055 6.44C3.81055 3.58 6.14055 1.25 9.00055 1.25C11.8605 1.25 14.1905 3.58 14.1905 6.44C14.1805 9.25 11.9805 11.53 9.19055 11.62C9.18055 11.62 9.17055 11.62 9.16055 11.62ZM9.00055 2.75C6.97055 2.75 5.31055 4.41 5.31055 6.44C5.31055 8.44 6.87055 10.05 8.86055 10.12C8.92055 10.11 9.05055 10.11 9.18055 10.12C11.1405 10.03 12.6805 8.42 12.6905 6.44C12.6905 4.41 11.0305 2.75 9.00055 2.75Z"/>
                     <path d="M16.5404 11.75C16.5104 11.75 16.4804 11.75 16.4504 11.74C16.0404 11.78 15.6204 11.49 15.5804 11.08C15.5404 10.67 15.7904 10.3 16.2004 10.25C16.3204 10.24 16.4504 10.24 16.5604 10.24C18.0204 10.16 19.1604 8.96 19.1604 7.49C19.1604 5.97 17.9304 4.74 16.4104 4.74C16.0004 4.75 15.6604 4.41 15.6604 4C15.6604 3.59 16.0004 3.25 16.4104 3.25C18.7504 3.25 20.6604 5.16 20.6604 7.5C20.6604 9.8 18.8604 11.66 16.5704 11.75C16.5604 11.75 16.5504 11.75 16.5404 11.75Z"/>
                     <path d="M9.16961 22.55C7.20961 22.55 5.23961 22.05 3.74961 21.05C2.35961 20.13 1.59961 18.87 1.59961 17.5C1.59961 16.13 2.35961 14.86 3.74961 13.93C6.74961 11.94 11.6096 11.94 14.5896 13.93C15.9696 14.85 16.7396 16.11 16.7396 17.48C16.7396 18.85 15.9796 20.12 14.5896 21.05C13.0896 22.05 11.1296 22.55 9.16961 22.55ZM4.57961 15.19C3.61961 15.83 3.09961 16.65 3.09961 17.51C3.09961 18.36 3.62961 19.18 4.57961 19.81C7.06961 21.48 11.2696 21.48 13.7596 19.81C14.7196 19.17 15.2396 18.35 15.2396 17.49C15.2396 16.64 14.7096 15.82 13.7596 15.19C11.2696 13.53 7.06961 13.53 4.57961 15.19Z"/>
                     <path d="M18.3402 20.75C17.9902 20.75 17.6802 20.51 17.6102 20.15C17.5302 19.74 17.7902 19.35 18.1902 19.26C18.8202 19.13 19.4002 18.88 19.8502 18.53C20.4202 18.1 20.7302 17.56 20.7302 16.99C20.7302 16.42 20.4202 15.88 19.8602 15.46C19.4202 15.12 18.8702 14.88 18.2202 14.73C17.8202 14.64 17.5602 14.24 17.6502 13.83C17.7402 13.43 18.1402 13.17 18.5502 13.26C19.4102 13.45 20.1602 13.79 20.7702 14.26C21.7002 14.96 22.2302 15.95 22.2302 16.99C22.2302 18.03 21.6902 19.02 20.7602 19.73C20.1402 20.21 19.3602 20.56 18.5002 20.73C18.4402 20.75 18.3902 20.75 18.3402 20.75Z"/>
                  </svg>                     
                  <span>Users logged in</span>
               </p>
            </div>
            <!-- User Registered -->
            <div class="flex flex-col justify-center items-center space-y-2 p-3 border border-sky-600 rounded-xl w-40 h-fit">
               <p class="bg-gradient-to-br from-sky-500 to-fuchsia-500 text-transparent bg-clip-text text-8xl font-bold text-center w-full border-b border-zinc-400 pb-2">{Stats.user_registered}</p>
               <p class="flex flex-row space-x-2 text-sm">
                  <svg viewBox="0 0 24 24" class="fill-current w-[16px] h-auto">
                     <path d="M18.5 20.25H14.5C14.09 20.25 13.75 19.91 13.75 19.5C13.75 19.09 14.09 18.75 14.5 18.75H18.5C18.91 18.75 19.25 19.09 19.25 19.5C19.25 19.91 18.91 20.25 18.5 20.25Z"/>
                     <path d="M16.5 22.25C16.09 22.25 15.75 21.91 15.75 21.5V17.5C15.75 17.09 16.09 16.75 16.5 16.75C16.91 16.75 17.25 17.09 17.25 17.5V21.5C17.25 21.91 16.91 22.25 16.5 22.25Z"/>
                     <path d="M12.1607 11.62C12.1307 11.62 12.1107 11.62 12.0807 11.62C12.0307 11.61 11.9607 11.61 11.9007 11.62C9.00068 11.53 6.81068 9.25 6.81068 6.44C6.80068 5.06 7.34068 3.76 8.32068 2.78C9.30068 1.8 10.6007 1.25 11.9907 1.25C14.8507 1.25 17.1807 3.58 17.1807 6.44C17.1807 9.25 14.9907 11.52 12.1907 11.62C12.1807 11.62 12.1707 11.62 12.1607 11.62ZM11.9907 2.75C11.0007 2.75 10.0807 3.14 9.38068 3.83C8.69068 4.53 8.31068 5.45 8.31068 6.43C8.31068 8.43 9.87068 10.05 11.8607 10.11C11.9207 10.1 12.0507 10.1 12.1807 10.11C14.1507 10.02 15.6807 8.41 15.6807 6.43C15.6807 4.41 14.0207 2.75 11.9907 2.75Z"/>
                     <path d="M11.9902 22.5599C9.95016 22.5599 8.02016 22.0299 6.56016 21.0499C5.17016 20.1199 4.41016 18.8499 4.41016 17.4799C4.41016 16.1099 5.18016 14.8499 6.56016 13.9299C9.55016 11.9299 14.4102 11.9299 17.4002 13.9299C17.7402 14.1599 17.8402 14.6299 17.6102 14.9699C17.3802 15.3199 16.9102 15.4099 16.5702 15.1799C14.0802 13.5199 9.88016 13.5199 7.39016 15.1799C6.43016 15.8199 5.91016 16.6299 5.91016 17.4799C5.91016 18.3299 6.43016 19.1599 7.39016 19.7999C8.60016 20.6099 10.2302 21.0499 11.9802 21.0499C12.3902 21.0499 12.7302 21.3899 12.7302 21.7999C12.7302 22.2099 12.4002 22.5599 11.9902 22.5599Z"/>
                  </svg>                                             
                  <span>User Registered</span>
               </p>
            </div>
            <!-- TODO Created -->
            <div class="flex flex-col justify-center items-center space-y-2 p-3 border border-sky-600 rounded-xl w-40 h-fit">
               <p class="bg-gradient-to-br from-sky-500 to-fuchsia-500 text-transparent bg-clip-text text-8xl font-bold text-center w-full border-b border-zinc-400 pb-2">{Stats.todo_created}</p>
               <p class="flex flex-row space-x-2 text-sm">
                  <svg viewBox="0 0 24 24" class="fill-current w-[16px] h-auto">
                     <path d="M8 5.75C7.59 5.75 7.25 5.41 7.25 5V2C7.25 1.59 7.59 1.25 8 1.25C8.41 1.25 8.75 1.59 8.75 2V5C8.75 5.41 8.41 5.75 8 5.75Z"/>
                     <path d="M16 5.75C15.59 5.75 15.25 5.41 15.25 5V2C15.25 1.59 15.59 1.25 16 1.25C16.41 1.25 16.75 1.59 16.75 2V5C16.75 5.41 16.41 5.75 16 5.75Z"/>
                     <path d="M14.68 22.75H8C4.35 22.75 2.25 20.65 2.25 17V8.5C2.25 4.85 4.35 2.75 8 2.75H16C19.65 2.75 21.75 4.85 21.75 8.5V13.63C21.75 13.92 21.58 14.18 21.33 14.31C21.07 14.43 20.76 14.4 20.54 14.22C18.96 12.96 16.53 12.96 14.95 14.25C13.87 15.1 13.26 16.37 13.26 17.76C13.26 18.58 13.48 19.38 13.91 20.07C14.24 20.61 14.65 21.06 15.13 21.4C15.39 21.59 15.51 21.93 15.41 22.24C15.29 22.54 15.01 22.75 14.68 22.75ZM8 4.25C5.14 4.25 3.75 5.64 3.75 8.5V17C3.75 19.86 5.14 21.25 8 21.25H12.89C12.79 21.12 12.7 20.98 12.62 20.84C12.05 19.92 11.75 18.85 11.75 17.75C11.75 15.9 12.57 14.2 14.01 13.07C15.72 11.68 18.25 11.38 20.25 12.3V8.5C20.25 5.64 18.86 4.25 16 4.25H8Z"/>
                     <path d="M13 11.75H7C6.59 11.75 6.25 11.41 6.25 11C6.25 10.59 6.59 10.25 7 10.25H13C13.41 10.25 13.75 10.59 13.75 11C13.75 11.41 13.41 11.75 13 11.75Z"/>
                     <path d="M9.62 16.75H7C6.59 16.75 6.25 16.41 6.25 16C6.25 15.59 6.59 15.25 7 15.25H9.62C10.03 15.25 10.37 15.59 10.37 16C10.37 16.41 10.04 16.75 9.62 16.75Z"/>
                     <path d="M17.75 23.75C16.47 23.75 15.26 23.35 14.24 22.61C13.6 22.15 13.05 21.55 12.62 20.84C12.05 19.92 11.75 18.85 11.75 17.75C11.75 15.9 12.57 14.2 14.01 13.07C16.09 11.38 19.37 11.37 21.47 13.04C22.92 14.18 23.75 15.9 23.75 17.75C23.75 18.85 23.45 19.92 22.88 20.84C22.56 21.39 22.15 21.87 21.68 22.26C20.61 23.22 19.21 23.75 17.75 23.75ZM17.75 13.25C16.73 13.25 15.73 13.6 14.94 14.24C13.86 15.09 13.25 16.36 13.25 17.75C13.25 18.57 13.47 19.37 13.9 20.06C14.23 20.6 14.64 21.05 15.12 21.39C15.89 21.95 16.8 22.25 17.75 22.25C18.86 22.25 19.88 21.86 20.7 21.13C21.06 20.83 21.35 20.48 21.59 20.07C22.02 19.37 22.25 18.57 22.25 17.75C22.25 16.36 21.63 15.0799 20.54 14.2199C19.74 13.5799 18.78 13.25 17.75 13.25Z"/>
                     <path d="M17.75 21C17.34 21 17 20.66 17 20.25C17 19.29 16.21 18.5 15.25 18.5C14.84 18.5 14.5 18.16 14.5 17.75C14.5 17.34 14.84 17 15.25 17C16.21 17 17 16.21 17 15.25C17 14.84 17.34 14.5 17.75 14.5C18.16 14.5 18.5 14.84 18.5 15.25C18.5 16.21 19.29 17 20.25 17C20.66 17 21 17.34 21 17.75C21 18.16 20.66 18.5 20.25 18.5C19.29 18.5 18.5 19.29 18.5 20.25C18.5 20.66 18.16 21 17.75 21ZM17.32 17.75C17.47 17.88 17.62 18.02 17.75 18.18C17.88 18.03 18.02 17.88 18.18 17.75C18.03 17.62 17.88 17.48 17.75 17.32C17.62 17.48 17.48 17.62 17.32 17.75Z"/>
                  </svg>                        
                  <span>Todo Created</span>
               </p>
            </div>
            <!-- TODO Deleted -->
            <div class="flex flex-col justify-center items-center space-y-2 p-3 border border-sky-600 rounded-xl w-40 h-fit">
               <p class="bg-gradient-to-br from-sky-500 to-fuchsia-500 text-transparent bg-clip-text text-8xl font-bold text-center w-full border-b border-zinc-400 pb-2">{Stats.todo_deleted}</p>
               <p class="flex flex-row space-x-2 text-sm">
                  <svg viewBox="0 0 24 24" class="fill-current w-[16px] h-auto">
                     <path d="M12 14.75H7C6.59 14.75 6.25 14.41 6.25 14C6.25 13.59 6.59 13.25 7 13.25H12C12.41 13.25 12.75 13.59 12.75 14C12.75 14.41 12.41 14.75 12 14.75Z"/>
                     <path d="M6.99945 6.7099C6.80945 6.7099 6.61945 6.6399 6.46945 6.4899L2.71945 2.7399C2.42945 2.4499 2.42945 1.9699 2.71945 1.6799C3.00945 1.3899 3.48945 1.3899 3.77945 1.6799L7.52945 5.4299C7.81945 5.7199 7.81945 6.1999 7.52945 6.4899C7.37945 6.6299 7.18945 6.7099 6.99945 6.7099Z"/>
                     <path d="M3.21039 6.74994C3.02039 6.74994 2.83039 6.67994 2.68039 6.52994C2.39039 6.23994 2.39039 5.75994 2.68039 5.46994L6.43039 1.71994C6.72039 1.42994 7.20039 1.42994 7.49039 1.71994C7.78039 2.00994 7.78039 2.48994 7.49039 2.77994L3.74039 6.52994C3.60039 6.67994 3.40039 6.74994 3.21039 6.74994Z"/>
                     <path d="M15 10.75H7C6.59 10.75 6.25 10.41 6.25 10C6.25 9.59 6.59 9.25 7 9.25H15C15.41 9.25 15.75 9.59 15.75 10C15.75 10.41 15.41 10.75 15 10.75Z"/>
                     <path d="M21 16.75C20.59 16.75 20.25 16.41 20.25 16V7.99C20.25 3.76 18.81 2.9 15.96 2.75H10C9.59 2.75 9.25 2.41 9.25 2C9.25 1.59 9.59 1.25 10 1.25H16C20.1 1.47 21.75 3.42 21.75 7.99V16C21.75 16.41 21.41 16.75 21 16.75Z"/>
                     <path d="M15 22.7498H9C3.38 22.7498 2.25 20.1598 2.25 15.9798V9.00977C2.25 8.59977 2.59 8.25977 3 8.25977C3.41 8.25977 3.75 8.59977 3.75 9.00977V15.9798C3.75 19.6998 4.48 21.2498 9 21.2498H15C15.41 21.2498 15.75 21.5898 15.75 21.9998C15.75 22.4098 15.41 22.7498 15 22.7498Z"/>
                     <path d="M15 22.75C14.9 22.75 14.81 22.73 14.71 22.69C14.43 22.57 14.25 22.3 14.25 22V19C14.25 16.58 15.58 15.25 18 15.25H21C21.3 15.25 21.58 15.43 21.69 15.71C21.8 15.99 21.74 16.31 21.53 16.53L15.53 22.53C15.39 22.67 15.19 22.75 15 22.75ZM18 16.75C16.42 16.75 15.75 17.42 15.75 19V20.19L19.19 16.75H18Z"/>
                  </svg>                                             
                  <span>Todo Deleted</span>
               </p>
            </div>
         </div>
      </div>

</main>
<Footer></Footer>